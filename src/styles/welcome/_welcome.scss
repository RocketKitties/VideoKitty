/******************************************************************************\
|                                                                              |
|                                _welcome.scss                                 |
|                                                                              |
|******************************************************************************|
|                                                                              |
|        This defines various CSS styles used in this application.             |
|                                                                              |
|        Author(s): Abe Megahed                                                |
|                                                                              |
|        This file is subject to the terms and conditions defined in           |
|        'LICENSE.txt', which is part of this source code distribution.        |
|                                                                              |
|******************************************************************************|
|        Copyright (C) 2016 - 2025, Megahed Labs LLC, www.sharedigm.com        |
\******************************************************************************/

@use "../bootstrap/variables";
@use "../layout/performance";
@use "../colors/text-colors";

//
// variables
//

$caption-size: 1.25em;

//
// styles
//

.welcome.page {
	.contents {
		.masthead {
			display: flex;
			height: calc(100vh - 70px);
			min-height: 500px;
			flex-grow: 1;
			position: relative;
			background: none;
			line-height: 2em;
			margin-bottom: 0;

			// cover if image is provided
			//
			background-size: cover;
			background-position: center;

			// hide ribbon overflow
			//
			overflow: hidden;

			.background {
				position: absolute;
				width: 100%;
				height: 100%;

				// cover if image is provided
				//
				background-size: cover;
				background-position: center;
			}

			.container {
				height: 100%;
				padding: 50px;

				> img {
					max-height: calc(100% - 50px);
					max-width: 100%;
					margin-left: auto;
					margin-right: auto;
				}
			}

			.panel {
				background-color: rgba(white, 50%);
			}

			.links {
				margin-top: 20px;

				.link {
					display: inline-block;
					margin-right: 10px;

					a {
						display: inline-block;
						color: white;
						margin-bottom: 10px;

						img {
							height: 25px;
							image-rendering: pixelated;
						}
					}
				}
			}

			.contents {
				display: flex;
				width: 100%;
				height: 100%;

				// avoid carousel nav buttons
				//
				padding: 0 65px;

				.splash {
					margin: auto;
				}	
			}

			.overlay {
				position: absolute;
				width: 100%;
				height: 100%;
				overflow: hidden;

				.layer {
					position: absolute;
					width: 100%;
					height: 100%;
					overflow: visible;

					img {
						position: absolute;
						transform: translateZ(0);
					}

					&:not(.cloud):not(.sun):not(.moon):not(.stars):not(.lights) {
						filter: drop-shadow(rgba(0, 0, 0, 0.25) 0px 1px 2px);
					}
				}
			}

			.carousel {
				width: 100% !important;
				height: 100% !important;
				position: absolute;

				.carousel-cell {
					display: flex;
					height: 100%;

					// cover if image is provided
					//
					background-size: cover;
					background-position: center;

					&:not(:first-child) {
						flex-direction: column;
						height: 100%;
						text-align: center;

						iframe {
							position: relative;
							height: 90%;
							margin: 65px;
							border-width: 1px;
							border-style: solid;
							border-color: rgba(127,127,127,0.25);
							border-radius: 15px;

							& + .caption {
								position: absolute;
								top: 10%;
								left: 5%;
								margin-top: -40px;
							}
						}
					}

					> .container {
						display: flex;
						flex-direction: column;
						justify-content: center;
					} 

					> .background {
						pointer-events: none;
					}

					.caption {
						font-size: $caption-size;
						margin-top: 10px;

						img {
							height: 50px;
						}
					}
				}

				.flickity-viewport {
					width: 100% !important;
					height: 100% !important;

					.flickity-slider {
						width: 100% !important;
						height: 100% !important;

						.carousel-cell {
							width: 100% !important;
							height: 100% !important;
						}			
					}
				}

				.flickity-page-dots {
					bottom: 20px;
					pointer-events: none;

					.dot {
						pointer-events: auto;
					}
				}
			}

			.options.buttons {
				position: absolute;
				left: 10px;
				bottom: 10px;

				button {
					width: 30px;
					height: 30px;
				}
			}
		}

		.apps .flickity-viewport {
			height: 150px !important;
		}
	}

	&.full-size {
		.contents {
			padding: 0;

			.masthead {
				margin: 0;

				.carousel-cell {
					height: 100%;
				}
			}
		}

		.footer {
			.info {
				display: none;
			}
		}
	}
}

//
// non-small styles
//

@media (min-width: variables.$screen-xs-min) {
	.welcome.page {
		.contents {
			.masthead {
				margin: -50px;
				margin-bottom: 0;
			}
		}
	}
}

//
// extra small styles
//

@media (max-width: variables.$screen-sm-min) {
	.welcome.page {
		> .contents {
			.masthead {
				.contents {
					width: 100%;
					height: 100%;
					padding: 10px;

					.splash {
						width: 100%;
						height: 100%;				
					}
				}
			}
		}
	}
}

//
// extra small styles
//

@media (max-width: variables.$screen-xs-min) {
	.welcome.page {
		> .contents {
			padding: 0;

			.masthead {
				.col-sm-4 {
					margin-bottom: 15px;
				}

				.col-sm-4:last-child {
					margin-bottom: 0;
				}

				.carousel {
					iframe + .caption {
						display: none;
					}

					.flickity-page-dots {
						bottom: 10px;
					}
				}
			}

			.section {
				margin: 0 -25px;
			}
		}
	}
}